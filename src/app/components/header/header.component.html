<header class="navbar">
    <!-- Left: Logo -->
    <div class="navbar-left">
        <div class="logo-text">TOLLYLAB</div>
    </div>

    <!-- Center: Navbar Links -->
    <nav class="navbar-center">
        <a routerLink="/">Home</a>
        <a routerLink="/films">Films</a>
        <a routerLink="/about">About</a>
        <a *ngIf="isAdmin" routerLink="/admin">Admin</a>
    </nav>

    <!-- Right: Buttons + Hamburger -->
    <div class="navbar-right">
        <!-- Cart & Profile visible if logged in -->
        <ng-container *ngIf="isLoggedIn">
            <button class="btn cart-icon">ðŸ›’</button>

            <div class="profile-container" (click)="toggleProfileTray()" (clickOutside)="showProfileTray = false">
                <button class="btn profile-btn" style="margin-top: 5px;">ðŸ‘¤</button>
                <div class="profile-dropdown" [class.open]="showProfileTray">
                    <ul>
                        <li (click)="goToOrders()">ðŸ§¾ Order History</li>
                        <li (click)="authService.logout()">ðŸšª Logout</li>
                    </ul>
                </div>
            </div>
        </ng-container>

        <!-- Signup/Login buttons when not logged in -->
        <ng-container *ngIf="!isLoggedIn">
            <button class="btn signup-btn" (click)="openSignup()">Signup</button>
            <button class="btn" (click)="openLogin()">Login</button>
        </ng-container>

        <!-- Hamburger always visible on mobile -->
        <button class="hamburger" (click)="toggleMobileMenu()">â˜°</button>
    </div>

</header>

<!-- Mobile Menu -->
<div class="mobile-menu" [class.open]="isMobileMenuOpen">
    <button class="close-btn" (click)="toggleMobileMenu()">Ã—</button>
    <ul>
        <li><a routerLink="/" (click)="closeMobileMenu()">Home</a></li>
        <li><a routerLink="/films" (click)="closeMobileMenu()">Films</a></li>
        <li><a routerLink="/about" (click)="closeMobileMenu()">About</a></li>
        <li>
            <ng-container *ngIf="isAdmin">
                <a routerLink="/admin" (click)="closeMobileMenu()">Admin</a>
            </ng-container>
        </li>
        <li>
            <ng-container *ngIf="!isLoggedIn">
                <button class="btn" (click)="openLogin(); closeMobileMenu()">Login</button>
            </ng-container>
        </li>
        <li>
            <ng-container *ngIf="!isLoggedIn">
                <button class="btn signup-btn" (click)="openSignup(); closeMobileMenu()">Sign Up</button>
            </ng-container>
        </li>
    </ul>
</div>
<app-signup [visible]="showSignup" (close)="showSignup = false"></app-signup>
<app-login [visible]="showLogin" (close)="showLogin = false"></app-login>