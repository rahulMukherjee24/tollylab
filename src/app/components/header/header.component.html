<header class="navbar">
    <!-- Left: Logo -->
    <div class="navbar-left">
        <div class="logo-text">TOLLYLAB</div>
    </div>

    <!-- Center: Navbar Links -->
    <nav class="navbar-center">
        <a routerLink="/">Home</a>
        <a routerLink="/darkRoom">Darkroom</a>
        <a routerLink="/about">About</a>
        <div *ngIf="isAdmin" class="admin-dropdown">
            <a class="admin-link" (click)="toggleDesktopAdminDropdown()">Admin â–¾</a>
            <ul class="admin-submenu" [class.open]="desktopAdminDropdownOpen">
                <li><a routerLink="/frames">Add Frames</a></li>
                <li><a routerLink="/films">Add Films</a></li>
            </ul>
        </div>


    </nav>

    <!-- Right: Buttons + Hamburger -->
    <div class="navbar-right">
        <!-- Cart & Profile visible if logged in -->
        <ng-container>
            <button class="btn cart-icon" (click)="openCart()">ðŸ›’</button>

            <div class="profile-container" (click)="toggleProfileTray()" (clickOutside)="showProfileTray = false">
                <button class="btn profile-btn" style="margin-top: 5px;">ðŸ‘¤</button>
                <div class="profile-dropdown" [class.open]="showProfileTray">
                    <ul>
                        <li (click)="goToOrders()">ðŸ§¾ Order History</li>
                        <li (click)="authService.logout()">ðŸšª Logout</li>
                    </ul>
                </div>
            </div>
        </ng-container>

        <!-- Signup/Login buttons when not logged in -->
        <ng-container *ngIf="!isLoggedIn">
            <button class="btn signup-btn" (click)="openSignup()">Signup</button>
            <button class="btn" (click)="openLogin()">Login</button>
        </ng-container>

        <!-- Hamburger always visible on mobile -->
        <button class="hamburger" (click)="toggleMobileMenu()">â˜°</button>
    </div>

</header>

<!-- Mobile Menu -->
<div class="mobile-menu" [class.open]="isMobileMenuOpen">
    <button class="close-btn" (click)="toggleMobileMenu()">Ã—</button>
    <ul>
        <li><a routerLink="/" (click)="closeMobileMenu()">Home</a></li>
        <li><a routerLink="/films" (click)="closeMobileMenu()">Films</a></li>
        <li><a routerLink="/about" (click)="closeMobileMenu()">About</a></li>
        <ng-container *ngIf="isAdmin">
            <li class="admin-option" (click)="toggleMobileAdminDropdown()" style="cursor: pointer; font-size: 1.2rem; font-weight: 600;">
                Admin â–¾
            </li>
            <ul *ngIf="mobileAdminDropdownOpen" class="mobile-submenu">
                <li><a routerLink="/frames" (click)="closeMobileMenu()">Add Frames</a></li>
                <li><a routerLink="/films" (click)="closeMobileMenu()">Add Films</a></li>
            </ul>
        </ng-container>

        <li>
            <ng-container *ngIf="!isLoggedIn">
                <button class="btn" (click)="openLogin(); closeMobileMenu()">Login</button>
            </ng-container>
        </li>
        <li>
            <ng-container *ngIf="!isLoggedIn">
                <button class="btn signup-btn" (click)="openSignup(); closeMobileMenu()">Sign Up</button>
            </ng-container>
        </li>
    </ul>
</div>
<app-signup [visible]="showSignup" (close)="showSignup = false"></app-signup>
<app-login [visible]="showLogin" (close)="showLogin = false"></app-login>