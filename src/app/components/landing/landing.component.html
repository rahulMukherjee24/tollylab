<section class="hero">
    <header class="navbar">
        <!-- Left: Logo -->
        <div class="navbar-left">
            <div class="logo-text">TOLLYLAB</div>
        </div>

        <!-- Center: Navbar Links -->
        <nav class="navbar-center">
            <a routerLink="/">Home</a>
            <a routerLink="/films">Films</a>
            <a routerLink="/about">About</a>
            <a routerLink="/admin">Admin</a>
        </nav>

        <!-- Right: Buttons + Hamburger -->
        <div class="navbar-right">
            <ng-container *ngIf="!isLoggedIn; else loggedIn">
                <button class="btn signup-btn" (click)="openSignup()">Signup</button>
                <button class="btn" (click)="openLogin()">Login</button>
            </ng-container>


            <ng-template #loggedIn>
                <!-- Cart Button -->
                <button class="btn">ðŸ›’</button>

                <!-- Profile Dropdown -->
                <div class="profile-container" style="margin-top: 10px;" (click)="toggleProfileTray()"
                    (clickOutside)="showProfileTray = false">
                    <button class="btn profile-btn">ðŸ‘¤</button>
                    <div class="profile-dropdown" [class.open]="showProfileTray">
                        <ul>
                            <li (click)="goToOrders()">ðŸ§¾ Order History</li>
                            <li (click)="authService.logout()">ðŸšª Logout</li>
                        </ul>
                    </div>
                </div>
            </ng-template>

            <button class="hamburger" (click)="toggleMobileMenu()">â˜°</button>
        </div>
    </header>

    <!-- Mobile Menu -->
    <div class="mobile-menu" [class.open]="isMobileMenuOpen">
        <button class="close-btn" (click)="toggleMobileMenu()">Ã—</button>
        <ul>
            <li><a routerLink="/" (click)="closeMobileMenu()">Home</a></li>
            <li><a routerLink="/films" (click)="closeMobileMenu()">Films</a></li>
            <li><a routerLink="/about" (click)="closeMobileMenu()">About</a></li>
            <li><a routerLink="/admin" (click)="closeMobileMenu()">Admin</a></li>
            <li *ngIf="!isLoggedIn">
                <button class="btn" (click)="openLogin(); closeMobileMenu()">Login</button>
            </li>
            <li *ngIf="!isLoggedIn">
                <button class="btn signup-btn" (click)="openSignup(); closeMobileMenu()">Sign Up</button>
            </li>
            <li *ngIf="isLoggedIn"><button class="btn" (click)="closeMobileMenu()">ðŸ›’</button></li>
            <li *ngIf="isLoggedIn"><button class="btn" (click)="closeMobileMenu()">ðŸ‘¤</button></li>
        </ul>
    </div>

    <!-- Hero Content -->
    <div class="overlay">
        <div class="content">
            <h1>THE RED LIGHT IS STILL ON.</h1>
            <p>Enjoy the magic of film photography with our pro lab processing.</p>
            <button class="cta-btn">Process Now</button>
        </div>
    </div>

    <app-signup [visible]="showSignup" (close)="showSignup = false"></app-signup>
    <app-login [visible]="showLogin" (close)="showLogin = false"></app-login>
</section>

<app-film-scroll></app-film-scroll>
<app-frame-counter></app-frame-counter>