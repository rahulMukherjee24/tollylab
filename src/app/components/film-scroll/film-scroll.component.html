<section class="film-section">
    <div class="header-group">
        <h2>Films are still <span class="highlight">affordable</span></h2>
        <p>Explore our range of Tollygrunge films</p>
    </div>

    <div class="scroll-wrapper">
        <!-- Left Arrow -->
        <button class="arrow left" (click)="scrollLeft(scrollContainer)">&#10094;</button>

        <!-- Scrollable Product List -->
        <div class="product-scroll" #scrollContainer>
            <div class="product-card" *ngFor="let film of products; let i = index"
                (click)="goToSelectedProduct(film.filmType)">
                <img [src]="film.img" [alt]="film.title" />
                <h4>{{ film.title }}</h4>
                <p class="price">â‚¹{{ film.price }}</p>

                <!-- show qty control if present, otherwise Add to Cart -->
                <ng-container *ngIf="getQuantityForProduct(film) > 0; else addButton">
                    <div class="quantity-control" (click)="$event.stopPropagation()">
                        <button (click)="decreaseQty(film, $event)">-</button>
                        <span>{{ getQuantityForProduct(film) }}</span>
                        <button (click)="increaseQty(film, $event)">+</button>
                    </div>
                </ng-container>

                <ng-template #addButton>
                    <button class="cart-btn" [class.clicked]="clickedIndex === i"
                        (click)="handleAddToCart(film, i, $event)">
                        ðŸ›’ Add to Cart
                    </button>
                </ng-template>
            </div>
        </div>

        <!-- Right Arrow -->
        <button class="arrow right" (click)="scrollRight(scrollContainer)">&#10095;</button>
    </div>
</section>